<!DOCTYPE html>
<html layout:decorator="admin/layout/layout">
	<div layout:fragment="content">

		<style>
			.back-to-top {
				margin: 0;
				position: fixed;
				bottom: 20px;
				right: 20px;
				z-index: 100;
				display: none;
				text-decoration: none;
				cursor: pointer;
			}

			.back-to-top:hover {
				color: #ffffff;
			    background-color: #555; /* Add a dark-grey background on hover */
			}
		</style>

		<section id="main-content">
			<section class="wrapper">
				<div class="row">
					<div class="col-lg-12">
						<h3 class="page-header"><i class="fa fa-file-text-o"></i> Inventory Management</h3>
						<ol class="breadcrumb">
							<li><i class="fa fa-home"></i><a th:href="@{/admin/home}">Home</a></li>
							<li><i class="icon_document_alt"></i>Inventories</li>
							<li><i class="fa fa-file-text-o"></i>List Items</li>
						</ol>
					</div>
				</div>

				<div class="row">
					<div class="col-lg-12">
						<section class="panel">
							<header class="panel-heading">
								<font size="4">Item</font>  <span style="width: 240px;">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a th:href="@{/admin/item}" title="Add New Item"><i class="icon_plus_alt2"></i></a>
							</header>

							<table id="mainTable" class="table table-striped table-advance table-hover">
								<tbody>
									<tr>
										<th><i class="icon_documents"></i> Product</th>
										<th><i class="icon_mobile"></i> Model</th>
										<th><i class="icon_mail_alt"></i> UPC</th>
										<th><i class="icon_mobile"></i> Size</th>
										<th><i class="icon_mobile"></i> Cost</th>
										<!-- <th><i class="icon_mobile"></i> Price</th> -->
										<th><i class="icon_pin_alt"></i> Quantity</th>
										<th><i class="icon_mobile"></i> PO No.</th>
										<th><i class="icon_mobile"></i> Shipment</th>
										<th><i class="icon_pin_alt"></i> Received By</th>
										<th><i class="icon_contacts_alt"></i> Received Date</th>
										<th><i class="icon_cogs"></i> Action</th>
									</tr>
									<tr th:each="mf:${items}" th:if="${mf.inventories!=null and mf.inventories.size()>0 and mf.inventories.get(0).status.statusid!=3}">
										<td th:text="${mf.product.name}"></td>
										<td th:text="${mf.product.modelnum}"></td>
										<td th:text="${mf.sku}"></td>
										<td th:text="${mf.size.sizenum + '(' + mf.size.region.code + ')'}"></td>
										<td th:text="${mf.cost}"></td>
										<!-- <td th:text="${mf.price}"></td> -->
										<td th:text="${mf.quantity}"></td>
										<td th:text="${mf.purchaseorder!=null?mf.purchaseorder.code:''}"></td>
										<td th:text="${mf.shipment!=null?mf.shipment.code:''}"></td>
										<td th:text="${mf.receivedby.firstname}"></td>
										<td th:text="${#calendars.format(mf.receivedate,'dd/MM/yyyy')}"></td>
										<td>
											<form th:id="${'items'+mf.itemid}" th:name="${'items'+mf.itemid}" th:action="@{/admin/item/}+${mf.itemid}" method="post">
												<div class="btn-group">
													<!-- <a class="btn btn-primary" th:href="@{/admin/item}" title="Add New Item"><i class="icon_plus_alt2"></i></a> -->
													<a class="btn btn-success" th:href="@{/admin/item/}+${mf.itemid}" title="Edit Item"><i class="icon_pencil-edit_alt"></i></a>
													<a class="btn btn-danger" title="Remove Item" th:onclick="${'deleteItem('+mf.itemid+')'}"><i class="icon_trash"></i></a>
													<!-- <button type="submit" class="btn btn-danger" title="Remove Product"><i class="icon_trash"></i></button> -->
													<!-- <a class="btn btn-danger" href="#"><i class="icon_close_alt2"></i></a> -->
												</div>
											</form>
										</td>
									</tr>
								</tbody>
							</table>
						</section>
						<a class="back-to-top well well-sm" href="#"><i class="glyphicon glyphicon-chevron-up"></i> Back to Top</a>
					</div>
				</div>
 			</section>
		</section>
		<script th:src="@{/js/jquery-1.10.2.min.js}"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				var offset = 250;

				var duration = 300;

				$(window).scroll(function() {

					if ($(this).scrollTop() > offset) {
						$('.back-to-top').fadeIn(duration);
					} else {
						$('.back-to-top').fadeOut(duration);
					}

				});

			});
		</script>
		<script type="text/javascript">
			function deleteItem(id) {
				var form = document.getElementById("items"+id);
				if(confirm("Do you want to delete the item?"))
					form.submit();
				else
					return false;
			}
		</script>
	</div>
</html>